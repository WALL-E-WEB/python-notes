# 查看目录命令

### 1. 查看目录命令的使用

| 命令 | 说明                   |
| :--- | :--------------------- |
| ls   | 查看当前目录信息       |
| tree | 以树状方式显示目录信息 |

#### ls命令选项使用

| 命令选项 | 说明                       |
| :------- | :------------------------- |
| -l       | 以列表方式显示             |
| -h       | 件大小单位显示，默认是字节 |
| -a       | 显示隐藏文件和隐藏目录     |

### 2. 查看当前目录路径

| 命令 | 说明             |
| :--- | :--------------- |
| pwd  | 查看当前目录路径 |

### 3. 清除终端内容

| 命令  | 说明         |
| :---- | :----------- |
| clear | 清除终端内容 |

### 4. 切换目录命令的使用

| 命令    | 说明                   |
| :------ | :--------------------- |
| cd 目录 | 切换到指定目录         |
| cd ~    | 切换到当前用户的主目录 |
| cd ..   | 切换到上一级目录       |
| cd .    | 切换到当前目录         |
| cd -    | 切换到上一次目录       |

### 5. 创建、删除文件及目录命令的使用

| 命令                | 说明                 |
| :------------------ | :------------------- |
| touch 文件名        | 创建指定文件         |
| mkdir 目录名        | 创建目录(文件夹)     |
| rm 文件名或者目录名 | 删除指定文件或者目录 |
| rmdir 目录名        | 删除空目录           |

mkdir命令选项

| 命令选项 | 说明                         |
| :------- | :--------------------------- |
| -p       | 创建所依赖的文件夹，嵌套文件 |

rm命令选项

| 命令选项 | 说明                                 |
| :------- | :----------------------------------- |
| -i       | 交互式提示                           |
| -r       | 递归删除目录及其内容                 |
| -f       | 强制删除，忽略不存在的文件，无需提示 |
| -d       | 删除空目录                           |

重定向

| 命令 | 说明                                                       |
| :--- | :--------------------------------------------------------- |
| >    | 如果文件存在会覆盖原有文件内容，相当于文件操作中的‘w’模式  |
| >>   | 如果文件存在会追加写入文件末尾，相当于文件操作中的‘a’ 模式 |

```
ls /home  > info.txt 如果文件存在会覆盖原有文件内容
ls >> ../msg.text  //有则追加内容
```



### 6. 复制、移动文件及目录命令的使用

| 命令 | 说明                       |
| :--- | :------------------------- |
| cp   | 拷贝文件、拷贝目录         |
| mv   | 移动文件、移动目录、重命名 |

cp命令选项

| 命令选项 | 说明                 |
| :------- | :------------------- |
| -i       | 交互式提示           |
| -r       | 递归拷贝目录及其内容 |
| -v       | 显示拷贝后的路径描述 |
| -a       | 保留文件的原有权限   |

mv命令选项

| 命令选项 | 说明                 |
| :------- | :------------------- |
| -i       | 交互式提示           |
| -v       | 显示移动后的路径描述 |

### 7. 终端命令格式说明

**command** [-options] [parameter]

**每项信息的说明:**

- command：命令名, 比如: ls、pwd
- [-options]：选项，可以有零个、一个或者多个选项，多个选项可以合并，比如使用的 -r 就是选项。
- [parameter]：参数，可以有零个、一个 或者 多个参数， 比如: touch 文件名、mkdir 目录名、cd 目标目录(路径)，这些文件名和目录名都是参数。
- []：代表可选

### 8. 查看命令帮助方式

| 命令 | 说明     |
| :--- | :------- |
| help | 帮助     |
| man  | 使用说明 |

**man命令的说明:**

| 操作键 | 说明           |
| :----- | :------------- |
| 空格   | 显示下一屏信息 |
| 回车   | 显示下一行信息 |
| b      | 显示上一屏信息 |
| f      | 显示下一屏信息 |
| q      | 退出           |

### 9. 查看文件内容命令的使用

| 命令 | 说明             |
| :--- | :--------------- |
| cat  | 查看小型文件     |
| more | 分屏查看大型文件 |

**more操作键说明:**

| 操作键 | 说明           |
| :----- | :------------- |
| 空格   | 显示下一屏信息 |
| 回车   | 显示下一行信息 |
| b      | 显示上一屏信息 |
| f      | 显示下一屏信息 |
| q      | 退出           |

### 10. 链接命令的介绍

链接命令是创建链接文件，链接文件分为:

- 软链接
- 硬链接

| 命令  | 说明       |
| :---- | :--------- |
| ln -s | 创建软链接 |
| ln    | 创建硬链接 |

### 11. grep命令搜索的使用

| 命令 | 说明     |
| :--- | :------- |
| grep | 文本搜索 |

| 命令选项 | 说明                       |
| :------- | :------------------------- |
| -i       | 忽略大小写                 |
| -n       | 显示匹配行号               |
| -v       | 显示不包含匹配文本的所有行 |

| 正则表达式 | 说明                   |
| :--------- | :--------------------- |
| ^          | 以指定字符串开头       |
| $          | 以指定字符串结尾       |
| .          | 匹配一个非换行符的字符 |

```
grep “aa” 文件名
grep “aa” 文件名 -i
```

### 12.find命令查找文件

| 命令 | 说明                           |
| :--- | :----------------------------- |
| find | 在指定目录下查找文件(包括目录) |

| 选项  | 说明                         |
| :---- | :--------------------------- |
| -name | 根据文件名(包括目录名)字查找 |

```
find . - name “11.txt”
```

## 13.压缩和解压缩命令

Linux默认支持的压缩格式:

- .gz
- .bz2
- .zip

- .gz和.bz2的压缩包需要使用tar命令来压缩和解压缩
- .zip的压缩包需要使用zip命令来压缩，使用unzip命令来解压缩

| 命令 | 说明             |
| :--- | :--------------- |
| tar  | 压缩和解压缩命令 |

**tar命令选项:**

| 选项 | 说明                               |
| :--- | :--------------------------------- |
| -c   | 创建打包文件                       |
| -v   | 显示打包或者解包的详细信息         |
| -f   | 指定文件名称, 必须放到所有选项后面 |
| -z   | 压缩或解压缩(.gz)                  |
| -j   | 压缩或解压缩(.bz2)                 |
| -x   | 解包                               |
| -C   | 解压缩到指定目录                   |

### zip和unzip命令及选项的使用

| 命令  | 说明               |
| :---- | :----------------- |
| zip   | 压缩成.zip格式文件 |
| unzip | 解压缩.zip格式文件 |

**unzip命令选项:**

| 选项 | 说明             |
| :--- | :--------------- |
| -d   | 解压缩到指定目录 |

```
zip test.zip *.txt  //压缩所有txt文件,压缩到test.zip
```

```
unzip test.zip -d aa //解压到AA文件
```

# 文件权限命令

**学习目标**

- 能够使用chmod命令完成文件权限的修改

------

### 1. chmod命令的介绍

| 命令  | 说明         |
| :---- | :----------- |
| chmod | 修改文件权限 |

chmod修改文件权限有两种方式:

- 字母法
- 数字法

### 2. chmod 字母法的使用

**角色说明:**

| 角色 | 说明                     |
| :--- | :----------------------- |
| u    | user, 表示该文件的所有者 |
| g    | group, 表示用户组        |
| o    | other, 表示其他用户      |
| a    | all, 表示所有用户        |

**权限设置说明:**

| 操作符 | 说明     |
| :----- | :------- |
| +      | 增加权限 |
| -      | 撤销权限 |
| =      | 设置权限 |

**权限说明:**

| 权限 | 说明       |
| :--- | :--------- |
| r    | 可读       |
| w    | 可写       |
| x    | 可执行     |
| -    | 无任何权限 |

**chmod命令字母法效果图:**

![chmod命令](%E4%BA%8C%E3%80%81Linux.assets/chmod-1-1588677664355.png)

**chmod命令同时设置多个角色的效果图:**

![chmod命令](%E4%BA%8C%E3%80%81Linux.assets/chmod-2.png)

### 3. chmod 数字法的使用

数字法就是“rwx” 这些权限也可以用**数字来代替**

**权限说明:**

| 权限 | 说明                  |
| :--- | :-------------------- |
| r    | 可读，权限值是4       |
|      |                       |
| w    | 可写，权限值是2       |
| x    | 可执行，权限值是1     |
| -    | 无任何权限，权限值是0 |

**chmod命令数字法效果图:**

![chmod命令](%E4%BA%8C%E3%80%81Linux.assets/chmod-3.png)

# 获取管理员权限

### 1. sudo命令的使用

| 命令    | 说明                                                       |
| :------ | :--------------------------------------------------------- |
| sudo -s | 切换到root用户，获取管理员权限                             |
| sudo    | 某个命令的执行需要获取管理员权限可以在执行命令前面加上sudo |

**sudo -s效果图:**

![sudo命令](%E4%BA%8C%E3%80%81Linux.assets/sudo-1.png)

**sudo 命令效果图:**

![sudo命令](%E4%BA%8C%E3%80%81Linux.assets/sudo-2.png)

**说明:**

- 如果只是某次操作需要使用管理员权限建议使用 sudo , 也就是说临时使用管理器权限。
- 如果大量操作都需要使用管理员权限 sudo –s, 但是操作需谨慎。

### 2. whoami命令的使用

| 命令   | 说明           |
| :----- | :------------- |
| whoami | 查看当前用户限 |

**whoami 命令效果图:**

![whoami命令](%E4%BA%8C%E3%80%81Linux.assets/whoami.png)

### 3. exit命令的使用

| 命令 | 说明         |
| :--- | :----------- |
| exit | 退出登录用户 |

**exit 命令的效果图:**

![exit命令](%E4%BA%8C%E3%80%81Linux.assets/exit.png)

**说明:**

- 如果是切换后的登陆用户，退出则返回上一个登陆账号。
- 如果是终端界面，退出当前终端。

### 4. who命令的使用

| 命令 | 说明               |
| :--- | :----------------- |
| who  | 查看所有的登录用户 |

**who 命令的效果图:**

![who命令](%E4%BA%8C%E3%80%81Linux.assets/who.png)

### 5. passwd命令的使用

| 命令   | 说明                                             |
| :----- | :----------------------------------------------- |
| passwd | 修改用户密码，不指定用户默认修改当前登录用户密码 |

**passwd 命令的效果图:**

![passwd命令](%E4%BA%8C%E3%80%81Linux.assets/passwd.png)

### 6. which命令的使用

| 命令  | 说明         |
| :---- | :----------- |
| which | 查看命令位置 |

**which 命令的效果图:**

![which命令](%E4%BA%8C%E3%80%81Linux.assets/which.png)

### 7. 关机和重启命令的使用

| 命令            | 说明     |
| :-------------- | :------- |
| shutdown –h now | 立刻关机 |
| reboot          | 重启     |

# 用户相关操作

**学习目标**

- 能够知道创建用户的命令

------

### 1. 创建用户

| 命令    | 说明           |
| :------ | :------------- |
| useradd | 创建(添加)用户 |

**useradd命令选项:**

| 选项 | 说明                                                       |
| :--- | :--------------------------------------------------------- |
| -m   | 自动创建用户主目录,主目录的名字就是用户名                  |
| -g   | 指定用户所属的用户组，默认不指定会自动创建一个同名的用户组 |

**创建用户效果图:**

![useradd命令](%E4%BA%8C%E3%80%81Linux.assets/useradd-2-1588678026367.png)

**查看所有用户信息的文件效果图:**

**![useradd命令](%E4%BA%8C%E3%80%81Linux.assets/useradd-2-1588678038260.png)**

![useradd命令](%E4%BA%8C%E3%80%81Linux.assets/useradd-3.png)

**说明:**

- **useradd** 命令的使用需要使用管理员权限，前面需要加上 **sudo**
- 创建用户如果不指定用户组，默认会自动创建一个同名的用户组
- 查看用户是否创建成功，可以查看**/etc/passwd**这个文件
- 查看用户组是否创建成功，可以查看**/etc/group**这个文件

**passwd文件中的每项信息说明,以root:x:0:0:root:/root:/bin/bash为例:**

- 第一个：用户名
- 第二个：密码占位符
- 第三个：uid, 用户id
- 第四个：gid, 用户所在组id
- 第五个：用户描述, 可选，
- 第六个：用户的主目录所在位置
- 第七个：用户所用 shell 的类型，一般由bash或者sh，默认不设置是sh类型

**group文件中的每项信息说明, 以laowang:x:1001:为例:**

- 第一个：用户组名
- 第二个：用户组密码占位符，一般Linux系统的用户组都没有密码的
- 第三个：组id

**id命令查看用户信息:**

| 命令 | 说明         |
| :--- | :----------- |
| id   | 查看用户信息 |

**id命令效果图:** 

![id命令](%E4%BA%8C%E3%80%81Linux.assets/id.png)

**每项信息说明:**

uid=1001(laowang) gid=1001(laowang) 组=1001(laowang)

- 第一个: uid 表示用户id
- 第二个: gid 表示用户组id
- 第三个: 组 表示用户所在的用户组

### 2. 设置密码

给其它用户设置密码，需要使用: **sudo passwd 用户名**

**设置密码效果图:** 

![useradd命令](%E4%BA%8C%E3%80%81Linux.assets/useradd-2.png)

### 3. 切换用户

| 命令 | 说明     |
| :--- | :------- |
| su   | 切换用户 |

**语法格式: su - 用户名**

**切换用户效果图:**

![su命令](%E4%BA%8C%E3%80%81Linux.assets/su.png)

**在laowang用户使用sudo -s效果图:**

![sudo -s命令](%E4%BA%8C%E3%80%81Linux.assets/sudo-s%E9%97%AE%E9%A2%98.png)

解决办法:

- 给laowang用户设置一个sudo附加组， 需要使用usermod修改用户信息

### 4. 修改用户信息

| 命令    | 说明         |
| :------ | :----------- |
| usermod | 修改用户信息 |

**usermod选项:**

| 命令 | 说明           |
| :--- | :------------- |
| -G   | 设置一个附加组 |
| -g   | 修改用户组     |

**usermod命令效果图:**

![usermod命令](%E4%BA%8C%E3%80%81Linux.assets/%E9%99%84%E5%8A%A0%E7%BB%84-1588677965399.png)

**设置附加组sudo以后，在sudo -s切换到管理员用户效果图:**

![usermod命令](%E4%BA%8C%E3%80%81Linux.assets/%E8%AE%BE%E7%BD%AE%E9%99%84%E5%8A%A0%E7%BB%84%E4%BD%BF%E7%94%A8sudo-s.png)

### 5. 扩展: 删除附加组

| 命令    | 说明                 |
| :------ | :------------------- |
| gpasswd | 添加和删除附加组信息 |

**gpasswd命令选项:**

| 选项      | 说明             |
| :-------- | :--------------- |
| -a 用户名 | 给用户添加附加组 |
| -d 用户名 | 给用户删除附加组 |

**删除附加组效果图:**

![usermod命令](%E4%BA%8C%E3%80%81Linux.assets/%E5%88%A0%E9%99%A4%E9%99%84%E5%8A%A0%E7%BB%84.png)

**删除附加组再次使用 sudo -s 效果图:**

![usermod命令](%E4%BA%8C%E3%80%81Linux.assets/%E5%88%A0%E9%99%A4%E9%99%84%E5%8A%A0%E7%BB%84%E9%97%AE%E9%A2%98.png)

### 5. 删除用户

| 命令    | 说明     |
| :------ | :------- |
| userdel | 删除用户 |

**userdel命令选项:**

| 选项      | 说明                                               |
| :-------- | :------------------------------------------------- |
| -r 用户名 | 删除用户主目录，必须要设置，否则用户主目录不会删除 |

**删除用户效果图:**

![userdel命令](%E4%BA%8C%E3%80%81Linux.assets/%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7-1.png)

**id查看用户信息效果图:**

![userdel命令](%E4%BA%8C%E3%80%81Linux.assets/%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7-2.png)

**查看group文件信息效果图:**

![userdel命令](%E4%BA%8C%E3%80%81Linux.assets/%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7-3.png)

**说明:**

- 删除用户，默认同名的用户组也会被删除

# 远程登录、远程拷贝命令

###  远程登录、远程拷贝命令的介绍

| 命令 | 说明     |
| :--- | :------- |
| ssh  | 远程登录 |
| scp  | 远程拷贝 |